{"remainingRequest":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/thread-loader/dist/cjs.js!/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/babel-loader/lib/index.js!/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/src/components/ReviewEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/src/components/ReviewEditor.vue","mtime":1602406537065},{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pi/Desktop/last_version/trustymonkey/trusty_monkey/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzdG9yZSB9IGZyb20gIi4uL2NvbW1vbi9zdG9yZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IENTUkZfVE9LRU4gfSBmcm9tICIuLi9jb21tb24vY3NyZl90b2tlbi5qcyI7CmltcG9ydCBQaWN0dXJlVXBsb2FkIGZyb20gIkAvY29tcG9uZW50cy9QaWN0dXJlVXBsb2FkLnZ1ZSI7CmltcG9ydCBSZXNpemUgZnJvbSAiQC9jb21wb25lbnRzL1Jlc2l6ZS52dWUiOwppbXBvcnQgdnVlY29uZmlnIGZyb20gIi4uL3Z1ZWNvbmZpZy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmV2aWV3RWRpdG9yIiwKICBjb21wdXRlZDogewogICAgc3RvcmVTdGF0ZTogZnVuY3Rpb24gc3RvcmVTdGF0ZSgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yOiBudWxsLAogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIHVwVXJsOiBudWxsLAogICAgICB1cFVybEFycmF5OiBbXSwKICAgICAgZW5kcG9pbnQ6IG51bGwsCiAgICAgIG5ld1BpY3R1cmVVcmw6IG51bGwsCiAgICAgIGJ1dHRvblBpY3M6IFsnRW50csOpZScsICdQbGF0LXByaW5jaXBhbCcsICdEZXNzZXJ0JywgJ01lbnUnLCAnRXh0w6lyaWV1cicsICdJbnTDqXJpZXVyJ10KICAgIH07CiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25VcGxvYWQ6IGZ1bmN0aW9uIG9uVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy51cFVybEFycmF5KTsKCiAgICAgIGlmICh0aGlzLnN0b3JlU3RhdGUubGFiZWxzKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSB0aGlzLnN0b3JlU3RhdGUuZmlsZTsKICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICB2YXIgYXhpb3NDb25maWcgPSB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdYLUNTUkZUT0tFTic6IENTUkZfVE9LRU4KICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBpZiAodGhpcy51cFVybCA9PSAwKSB7CiAgICAgICAgICBpZiAodGhpcy5zdG9yZVN0YXRlLmxhYmVscy5pbmNsdWRlcygnRm9vZCcpKSB7CiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSAic3RhcnRlcl9waWMiOwogICAgICAgICAgICB0aGlzLnN0b3JlU3RhdGUudXBFcnJvciA9IG51bGw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdG9yZS5zZXRVcEVycm9yKCJDZWNpIG4nZXN0IHBhcyBsYSBwaG90byBkJ3VuZSBlbnRyw6llIiksIHRoaXMuZW5kcG9pbnQgPSBmYWxzZSwgc3RvcmUuc2V0U2hvd0NhdEJ1dCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy51cFVybCA9PSAxKSB7CiAgICAgICAgICBpZiAodGhpcy5zdG9yZVN0YXRlLmxhYmVscy5pbmNsdWRlcygnRm9vZCcpKSB7CiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSAibWFpbl9waWMiOwogICAgICAgICAgICB0aGlzLnN0b3JlU3RhdGUudXBFcnJvciA9IG51bGw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdG9yZS5zZXRVcEVycm9yKCJDZWNpIG4nZXN0IHBhcyBsYSBwaG90byBkJ3VuIHBsYXQiKSwgdGhpcy5lbmRwb2ludCA9IGZhbHNlLCBzdG9yZS5zZXRTaG93Q2F0QnV0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVwVXJsID09IDIpIHsKICAgICAgICAgIGlmICh0aGlzLnN0b3JlU3RhdGUubGFiZWxzLmluY2x1ZGVzKCdEZXNzZXJ0JykpIHsKICAgICAgICAgICAgdGhpcy5lbmRwb2ludCA9ICJkZXNzZXJ0X3BpYyI7CiAgICAgICAgICAgIHRoaXMuc3RvcmVTdGF0ZS51cEVycm9yID0gbnVsbDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0b3JlLnNldFVwRXJyb3IoIkNlY2kgbidlc3QgcGFzIGxhIHBob3RvIGQndW4gZGVzc2VydCIpLCB0aGlzLmVuZHBvaW50ID0gZmFsc2UsIHN0b3JlLnNldFNob3dDYXRCdXQoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXBVcmwgPT0gMykgewogICAgICAgICAgaWYgKHRoaXMuc3RvcmVTdGF0ZS5sYWJlbHMuaW5jbHVkZXMoJ1RleHQnKSkgewogICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gIm1lbnVfcGljIjsKICAgICAgICAgICAgdGhpcy5zdG9yZVN0YXRlLnVwRXJyb3IgPSBudWxsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmUuc2V0VXBFcnJvcigiQ2VjaSBuJ2VzdCBwYXMgbGEgcGhvdG8gZCd1biBtZW51IiksIHRoaXMuZW5kcG9pbnQgPSBmYWxzZSwgc3RvcmUuc2V0U2hvd0NhdEJ1dCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy51cFVybCA9PSA0KSB7CiAgICAgICAgICBpZiAodGhpcy5zdG9yZVN0YXRlLmxhYmVscy5pbmNsdWRlcygnQnVpbGRpbmcnKSkgewogICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gIm91dHNpZGVfcGljIjsKICAgICAgICAgICAgdGhpcy5zdG9yZVN0YXRlLnVwRXJyb3IgPSBudWxsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmUuc2V0VXBFcnJvcigiQ2VjaSBuJ2VzdCBwYXMgdW5lIHBob3RvIGRlIGwnZXh0w6lyaWV1ciBkdSByZXN0YXVyYW50IiksIHRoaXMuZW5kcG9pbnQgPSBmYWxzZSwgc3RvcmUuc2V0U2hvd0NhdEJ1dCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy51cFVybCA9PSA1KSB7CiAgICAgICAgICBpZiAodGhpcy5zdG9yZVN0YXRlLmxhYmVscy5pbmNsdWRlcygnUmVzdGF1cmFudCcpKSB7CiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSAiaW5zaWRlX3BpYyI7CiAgICAgICAgICAgIHRoaXMuc3RvcmVTdGF0ZS51cEVycm9yID0gbnVsbDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0b3JlLnNldFVwRXJyb3IoIkNlY2kgbidlc3QgcGFzIHVuZSBwaG90byBkZSBsJ2ludGVyaWV1ciBkdSByZXN0YXVyYW50IiksIHRoaXMuZW5kcG9pbnQgPSBmYWxzZSwgc3RvcmUuc2V0U2hvd0NhdEJ1dCgpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuZW5kcG9pbnQgIT0gZmFsc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5kcG9pbnQpOwogICAgICAgICAgZmQuYXBwZW5kKCdwaWN0dXJlXzEnLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgICAgICBmZC5hcHBlbmQoJ3Jlc3RhdXJhbnRfcmV2aWV3JywgdGhpcy5pZCk7CiAgICAgICAgICBheGlvcy5wb3N0KCIiLmNvbmNhdCh2dWVjb25maWcuYmFzZVVybCwgIi9hcGkvIikuY29uY2F0KHRoaXMuZW5kcG9pbnQsICIvIiksIGZkLCBheGlvc0NvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzLnVwVXJsID0gbnVsbDsKICAgICAgICAgICAgc3RvcmUuc2V0U2hvd0NhdEJ1dCgpOwogICAgICAgICAgICB2YXIgbmV3UGljdHVyZVVybCA9IHJlcy5kYXRhLnBpY3R1cmVfMTsKICAgICAgICAgICAgdmFyIG5ld1BpY3R1cmVJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgICB2YXIgYXBpVVJMID0gcmVzLmNvbmZpZy51cmw7CiAgICAgICAgICAgIHZhciBhZGRQaWNEaWMgPSB7CiAgICAgICAgICAgICAgInVybCI6IG5ld1BpY3R1cmVVcmwsCiAgICAgICAgICAgICAgImlkIjogbmV3UGljdHVyZUlkLAogICAgICAgICAgICAgICJhcGlVcmwiOiBhcGlVUkwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgc3RvcmUuYWRkUGljdHVyZShhZGRQaWNEaWMpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ29Ib21lOiBmdW5jdGlvbiBnb0hvbWUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgfSk7CiAgICB9LAogICAgc2V0VXBVcmw6IGZ1bmN0aW9uIHNldFVwVXJsKCkgewogICAgICB0aGlzLnVwVXJsQXJyYXkucHVzaCh0aGlzLnVwZXgpOwoKICAgICAgaWYgKHRoaXMudXBVcmxBcnJheS5sZW5ndGggPiAxICYmIHRoaXMudXBVcmxBcnJheS5sZW5ndGggJSAyID09IDApIHsKICAgICAgICB0aGlzLnVwVXJsID0gdGhpcy51cFVybEFycmF5W3RoaXMudXBVcmxBcnJheS5sZW5ndGggLSAyXTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVwVXJsKTsKICAgICAgICBzdG9yZS5zZXRTaG93Q2F0QnV0KCk7CiAgICAgICAgdGhpcy5zdG9yZVN0YXRlLnVwRXJyb3IgPSBudWxsOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBQaWN0dXJlVXBsb2FkOiBQaWN0dXJlVXBsb2FkLAogICAgUmVzaXplOiBSZXNpemUKICB9LAogIHdhdGNoOiB7CiAgICAic3RvcmVTdGF0ZS5sYWJlbHMiOiBmdW5jdGlvbiBzdG9yZVN0YXRlTGFiZWxzKCkgewogICAgICB0aGlzLm9uVXBsb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ReviewEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,KAAA,QAAA,oBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,QAAA,yBAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AAEA,OAAA,SAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,CAAA,KAAA;AACA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,IALA;AAMA,MAAA,aAAA,EAAA,IANA;AAOA,MAAA,UAAA,EAAA,CAAA,QAAA,EAAA,gBAAA,EACA,SADA,EACA,MADA,EACA,WADA,EAEA,WAFA;AAPA,KAAA;AAWA,GAnBA;AAoBA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GApBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;;AACA,UAAA,KAAA,UAAA,CAAA,MAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA,UAAA,CAAA,IAAA;AACA,YAAA,EAAA,GAAA,IAAA,QAAA,EAAA;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA;AACA,2BAAA;AADA;AADA,SAAA;;AAMA,YAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,aAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,sCAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA,SAPA,MAOA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,UAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,mCAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA,SAPA,MAOA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,aAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,sCAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA,SAPA,MAOA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,UAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,mCAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA,SAPA,MAOA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,aAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,uDAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA,SAPA,MAOA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,UAAA,CAAA,MAAA,CAAA,QAAA,CAAA,YAAA,CAAA,EAAA;AACA,iBAAA,QAAA,GAAA,YAAA;AACA,iBAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AAAA,WAFA,MAGA;AAAA,YAAA,KAAA,CAAA,UAAA,CAAA,uDAAA,GACA,KAAA,QAAA,GAAA,KADA,EAEA,KAAA,CAAA,aAAA,EAFA;AAEA;AACA;;AAEA,YAAA,KAAA,QAAA,IAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA;AACA,UAAA,EAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,YAAA;AACA,UAAA,EAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,WAAA,SAAA,CAAA,OAAA,kBAAA,KAAA,QAAA,QAAA,EAAA,EAAA,WAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,YAAA,KAAA,CAAA,aAAA;AACA,gBAAA,aAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,gBAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,gBAAA,MAAA,GAAA,GAAA,CAAA,MAAA,CAAA,GAAA;AACA,gBAAA,SAAA,GAAA;AAAA,qBAAA,aAAA;AACA,oBAAA,YADA;AAEA,wBAAA;AAFA,aAAA;AAGA,YAAA,KAAA,CAAA,UAAA,CAAA,SAAA;AACA,WAXA;AAYA;AACA;AACA,KA1EA;AA2EA,IAAA,MA3EA,oBA2EA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KA7EA;AA8EA,IAAA,QA9EA,sBA8EA;AACA,WAAA,UAAA,CAAA,IAAA,CAAA,KAAA,IAAA;;AACA,UAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,aAAA,KAAA,GAAA,KAAA,UAAA,CAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,QAAA,KAAA,CAAA,aAAA;AACA,aAAA,UAAA,CAAA,OAAA,GAAA,IAAA;AACA;AACA;AAtFA,GA1BA;AAkHA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA,aADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAlHA;AAsHA,EAAA,KAAA,EAAA;AACA,yBAAA,4BAAA;AACA,WAAA,QAAA;AACA;AAHA;AAtHA,CAAA","sourcesContent":["<template>\n<div class=\"editor\">\n\n  <div>\n    <PictureUpload/>    \n    <hr/>\n  </div>\n\n  <div>\n\n  <div class=\"container text-center\" v-show=\"this.storeState.preLoader\">\n    <div>\n      <img src=\"https://media.giphy.com/media/pFwRzOLfuGHok/giphy.gif\" class=\"w-25\">\n    </div>   \n  </div> \n\n  <div v-show=\"this.storeState.showCatBut == true\">\n    <div class=\"btnRow d-flex flex-row justify-content-around\">\n      <div class=\"mt-3\" v-for=\"(buttonPic, index) in buttonPics\" :key=\"buttonPic\">\n\n        <label for=\"fileInput\" @click=\"upex=index, setUpUrl()\"\n              class=\"catBtn border border-success rounded p-2\"\n        >{{ buttonPic }} <Resize/> </label>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"d-flex flex-row \">      \n        <button class=\"btn btn-success btn-sm m-3 \" \n                @click=\"goHome\">Soumettre</button>\n        <div v-show=\"this.storeState.upError != null\"\n              class=\"container border border-danger rounded w-50 h-50 m-auto text-center\">\n          <p  class=\"text-danger my-auto\">{{ this.storeState.upError }}</p>\n        </div>\n  </div>  \n\n  </div>\n</div> \n</template>\n\n<script>\nimport { store } from \"../common/store.js\"\nimport axios from 'axios'\nimport { CSRF_TOKEN } from \"../common/csrf_token.js\"\nimport PictureUpload from \"@/components/PictureUpload.vue\";\nimport Resize from \"@/components/Resize.vue\"\n\nimport vueconfig from \"../vueconfig.js\";\n\nexport default {\n  name: \"ReviewEditor\",\n  computed:{\n    storeState(){\n      return store.state;\n   }\n  },\n  data() {\n    return {\n      error: null,\n      selectedFile: null,\n      upUrl: null,\n      upUrlArray: [],      \n      endpoint: null,      \n      newPictureUrl: null,            \n      buttonPics: ['Entrée', 'Plat-principal',\n                  'Dessert', 'Menu', 'Extérieur',\n                  'Intérieur'],      \n    }\n  },\n  props: {\n    id: {\n      type: Number,\n      required: true\n    },\n  },  \n  methods: {\n    onUpload() {\n      console.log(this.upUrlArray)\n      if (this.storeState.labels) { \n        this.selectedFile = this.storeState.file            \n        const fd = new FormData();\n        let axiosConfig = {\n          headers: {\n            'X-CSRFTOKEN': CSRF_TOKEN,           \n          }\n        };\n\n        if (this.upUrl == 0) {        \n          if (this.storeState.labels.includes ('Food')) {\n                this.endpoint = \"starter_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas la photo d'une entrée\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } else if (this.upUrl == 1) {\n          if (this.storeState.labels.includes ('Food')) {\n                this.endpoint = \"main_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas la photo d'un plat\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } else if (this.upUrl == 2) {          \n              if (this.storeState.labels.includes ('Dessert')) {\n                this.endpoint = \"dessert_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas la photo d'un dessert\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } else if (this.upUrl == 3) {          \n              if (this.storeState.labels.includes ('Text')) {\n                this.endpoint = \"menu_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas la photo d'un menu\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } else if (this.upUrl == 4) {\n          if (this.storeState.labels.includes ('Building')) {\n                this.endpoint = \"outside_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas une photo de l'extérieur du restaurant\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } else if (this.upUrl == 5) {\n          if (this.storeState.labels.includes ('Restaurant')) {\n                this.endpoint = \"inside_pic\"                \n                this.storeState.upError = null}\n              else {store.setUpError(\"Ceci n'est pas une photo de l'interieur du restaurant\"),                    \n                    this.endpoint = false,\n                    store.setShowCatBut()}\n        } \n        \n        if (this.endpoint != false){\n          console.log(this.endpoint)\n          fd.append('picture_1', this.selectedFile)\n          fd.append('restaurant_review', this.id)\n          axios.post(`${vueconfig.baseUrl}/api/${this.endpoint}/`, fd, axiosConfig)\n            .then(res => {                                  \n              this.upUrl = null              \n              store.setShowCatBut()              \n              let newPictureUrl = res.data.picture_1\n              let newPictureId = res.data.id\n              let apiURL = res.config.url\n              let addPicDic = {\"url\": newPictureUrl,\n                              \"id\": newPictureId,\n                              \"apiUrl\": apiURL  }          \n              store.addPicture(addPicDic)                            \n          })\n        }\n      } \n    },\n    goHome() {\n      this.$router.push({name: 'home'})           \n    },\n    setUpUrl() {\n      this.upUrlArray.push(this.upex)\n      if (this.upUrlArray.length > 1 && this.upUrlArray.length % 2 == 0) {\n        this.upUrl = this.upUrlArray[this.upUrlArray.length - 2]\n        console.log(this.upUrl)\n        store.setShowCatBut()\n        this.storeState.upError = null\n      }\n    }   \n  }, \n  components: {\n    PictureUpload,\n    Resize\n    },\n  watch: {\n    \"storeState.labels\": function () {\n      this.onUpload()\n      } \n    } \n  }\n</script>\n\n<style>\n.editor {\n  background-color: white;\n  border: 1px solid \n}\n.custom-file-label {\n  background-color: rgb(234, 236, 122);\n}\n.btnRow {\n  background-color: white\n}\n.catBtn:hover {\n  background-color: #5cb85c;\n  color: white\n}\n</style>"],"sourceRoot":"src/components"}]}